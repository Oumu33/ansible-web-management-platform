# 主环境配置文件
# 复制此文件为 .env 并根据实际环境修改配置值

# ===== 应用基础配置 =====
NODE_ENV=production
DEBUG=false
LOG_LEVEL=info

# ===== 数据库配置 =====
POSTGRES_DB=ansible_web
POSTGRES_USER=ansible_user
POSTGRES_PASSWORD=change_this_secure_password
DATABASE_URL=postgresql://ansible_user:change_this_secure_password@localhost:5432/ansible_web

# Redis 配置
REDIS_PASSWORD=change_this_redis_password
REDIS_URL=redis://:change_this_redis_password@localhost:6379/0

# ===== 安全配置 =====
SECRET_KEY=change_this_super_secret_key_in_production_minimum_32_chars
JWT_SECRET=change_this_jwt_secret_key_also_32_chars_minimum
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# 管理员账户
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change_this_admin_password
ADMIN_EMAIL=admin@example.com

# ===== 应用端口配置 =====
API_PORT=8000
FRONTEND_PORT=3000
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ===== OAuth2 配置（可选）=====
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# ===== CORS 和安全中间件配置 =====
ALLOWED_HOSTS=["http://localhost:3000","https://yourdomain.com"]
CORS_ORIGIN=*
FORCE_HTTPS=false

# 安全中间件
SECURITY_MIDDLEWARE_ENABLED=true
RATE_LIMIT_ENABLED=true
IP_FILTER_ENABLED=true
REQUEST_VALIDATION_ENABLED=true

# 速率限制
DEFAULT_RATE_LIMIT=100
AUTH_RATE_LIMIT=10
BURST_LIMIT=20

# ===== 监控配置 =====
METRICS_ENABLED=true
GRAFANA_ADMIN_PASSWORD=grafana_admin_password
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# ===== SSL/TLS 配置 =====
SSL_CERT_PATH=/etc/ssl/certs/ansible-platform.crt
SSL_KEY_PATH=/etc/ssl/private/ansible-platform.key

# ===== 备份配置 =====
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/opt/backups

# ===== 日志配置 =====
LOG_FILE_PATH=/var/log/ansible-platform
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10

# ===== 邮件配置（可选）=====
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@example.com
SMTP_PASSWORD=smtp_password
SMTP_TLS=true

# ===== 第三方集成（可选）=====
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
TEAMS_WEBHOOK_URL=

# ===== 存储配置 =====
UPLOAD_PATH=/opt/uploads
MAX_UPLOAD_SIZE=100MB
ALLOWED_FILE_TYPES=.yml,.yaml,.json,.txt,.conf

# ===== 性能配置 =====
WORKER_PROCESSES=auto
WORKER_CONNECTIONS=1024
CLIENT_MAX_BODY_SIZE=100M

# ===== 开发环境配置（仅开发时使用）=====
# DEVELOPMENT=true
# HOT_RELOAD=true
# DEV_SERVER_PORT=3001